# Template ‚Äî Quarto Book + RevealJS Slides (single-source)

This project publishes a **full online book** and a set of **RevealJS slide decks** from the **same `.qmd` files**.  
Slides are a curated subset of the chapter content using Quarto **profiles** and **conditional fences**.

## Highlights

- **Single source of truth:** each chapter (`*.qmd`) renders as a book page and (optionally) a slide deck.
- **Profiles-based build:**
  - `book` (default): `project.type: book` ‚Üí renders to `docs/`
  - `slides`: `project.type: website` + `format: revealjs` ‚Üí decks into `docs/`
- **Robust embedding:** link and/or iframe slide decks in the corresponding chapter.

---

## Requirements

- [Quarto](https://quarto.org) ‚â• 1.4  
- Pandoc (bundled with Quarto)
- `make`

‚úÖ `make` comes pre-installed:

- Linux: almost every distribution ships GNU Make (`make`) out of the box.
- macOS: has `make` (actually BSD Make via Xcode Command Line Tools). If you don‚Äôt have it yet, run `xcode-select --install`.

‚ö†Ô∏è `make` not included by default:

- Vanilla Windows does not include `make`.
- You can get it through:
  - **Git for Windows / Git Bash** (ships with a minimal `make` on some installs)
  - **MSYS2** (pacman -S make) or **Cygwin**
  - **Windows Subsystem for Linux (WSL):** install Ubuntu/Debian etc. ‚Üí `sudo apt install make`
  - Or use **GNU Make for Windows** [binaries](https://gnuwin32.sourceforge.net/packages/make.htm).


---

## Project structure

```
‚îú‚îÄ _quarto.yml            # book profile (default)
‚îú‚îÄ _quarto-slides.yml     # slides profile (revealjs ‚Üí docs/)
‚îú‚îÄ index.qmd              # landing page (book only)
‚îú‚îÄ methods.qmd            # single-source chapter + slides
‚îú‚îÄ slidedecks.qmd         # single-source chapter + slides
‚îú‚îÄ ...                    # more chapters
‚îú‚îÄ docs/                  # build output (committed for GH Pages)
‚îî‚îÄ Makefile               # build tasks
```

---

## Profiles & conditional content

In your chapter files (e.g., `methods.qmd`), gate content like this:

```markdown
::: {.content-visible when-profile="book"}
Full exposition for the book...
:::

::: {.content-visible when-profile="slides"}
Concise slide bullets...
:::
```
## Slides filename (no paths! Quarto rule):

```yaml
---
title: "Methods"
format:
  revealjs:
    output-file: methods_slides.html
---
```

## Building locally

```bash
# Build book + slides into docs/
make

# Book only (to docs/)
make book

# All slide decks (to docs/, one per chapter)
make slides
```

**Notes:** The Makefile renders the book first (with `--no-clean`) and then the slides so assets and decks are not wiped between steps.

### Windows users

A modified `Makefile` for Windows (`Makefile_windows`) is included in the repository.
You can run it with:

```powershell
make -f Makefile_windows
```
## Note on Makefile configuration

If you use the provided `Makefile`, you need to **manually add the list of `.qmd` files that should also produce slide decks**.

Open the `Makefile` and edit the `CHAPTERS` variable, for example:

```make
CHAPTERS = methods.qmd theory.qmd numerics.qmd
```

Each of these files will then render both as a book chapter (`docs/<name>.html`) and as a RevealJS deck (`docs/<name>_slides.html`).

## Embedding slides in a chapter
Use a relative link (no leading slash) to avoid broken paths on GitHub Pages:

```markdown
::: {.content-visible when-profile="book"}
- üëâ Slides: <a href="methods_slides.html">Methods ‚Äî Slides</a>

<iframe src="methods_slides.html" width="100%" height="620" loading="lazy"
        style="border:1px solid #ddd;border-radius:8px"></iframe>
:::
```

## GitHub Pages deployment

1. Commit the `docs/` folder (it‚Äôs generated by make).
2.	In your repo: Settings ‚Üí Pages ‚Üí Build and deployment
    - Source: ‚ÄúDeploy from a branch‚Äù
	- Branch: main (or default), Folder: /docs
3.	Push to main. GitHub Pages will serve your site.


## Editing tips in VS Code

If you are working in **VS Code** with the [Quarto extension](https://marketplace.visualstudio.com/items?itemName=quarto.quarto), there is an elegant way to add fenced divs:

1. In a `.qmd` file, just type `div` and press <kbd>Tab</kbd>.  
   The extension inserts a fenced div scaffold:

   ```markdown
   ::: {.class}
   Your content here
   :::
2. Replace `.class` with the class you actually want, e.g. `.content-visible` or `.content-hidden`:

   ```markdown
   ::: {.content-visible when-profile="book"}
   Content shown only in the book.
   :::
   ```

üëâ Tip: you don‚Äôt have to type the full class. Start typing the first letters (e.g. `con`) and VS Code will show you a list of matching completions. You can then pick `.content-visible` or `.content-hidden` from that list.

This snippet saves you from typing all the colons manually and ensures your fences are balanced.